/*
 Oracle Infinity
 @preserve Copyright (c) 2017, 2018, 2019, Oracle and/or its affiliates. All rights reserved.
 common.js v1.3.52
 Created: 2025-02-03T15:47:01+0000

*/
ORA.common||(ORA.common={});ORA.common.mutations||(ORA.common.mutations={});ORA.common.mobile||(ORA.common.mobile={});
ORA.common.clientID={cfg:{DNTBehavior:"honorDNT",wtidTimeout:1E3,cookie:{enable:!0,name:"ORA_FPC",expires:63113851500,autoTLD:!1,sessionOnly:!1,expireDate:new Date((new Date).getTime()+63113851500),domain:""},endpoint:{clientIDServer:"dc.oracleinfinity.io",accountGuid:"abcde12345",protocol:"https"}},isClientIdSet:!1,isWaitForSetClientId:!1,waitForSetClientId:function(){ORA.common.TrackingPipeline.disableSeed();ORA.common.clientID.isWaitForSetClientId=!0},setConfig:function(a){a=a||{};a=ORA.common._shallowMerge(ORA.common.clientID.cfg,
a);ORA.common.clientID.cfg=a;ORA.common.clientID.clientId&&ORA.common.clientID.storeClientId(ORA.common.clientID.clientId);return!0},getClientID:function(a){var b=2!==ORA.common.isFpcSet(ORA.common.clientID.cfg.cookie.name);ORA.common.clientID.isWaitForSetClientId&&!ORA.common.clientID.isClientIdSet?ORA.common.clientID.setIdCallback=a:b?(b=ORA.common._getCookieAsObj(ORA.common.clientID.cfg.cookie.name),ORA.common.clientID.storeClientId(b.id),a&&a(b.id)):ORA.common.clientID.clientId?(ORA.common.clientID.storeClientId(ORA.common.clientID.clientId),
a&&a(ORA.common.clientID.clientId)):ORA.common.clientID.getId(ORA.common.clientID.cfg.endpoint,a)},setClientID:function(a){if("undefined"===typeof a||"function"!==typeof a&&"string"!==typeof a)return!1;var b=a||"";if("function"===typeof b)try{b=a()}catch(c){ORA.Debug.debug("Error executing supplied clientID function : "+c.message)}b=String(b);if("undefined"!==b&&b.match(/^[^<=^; >]{1,100}$/gm))return ORA.common.clientID.clientId=b,ORA.common.clientID.storeClientId(b),ORA.common.clientID.isClientIdSet=
!0,ORA.fireEvent(new ORA.Event(ORA.Event.SET_CLIENT_ID,ORA.Event.STATUS_SUCCESS,null,a)),ORA.common.clientID.isWaitForSetClientId&&"undefined"!==typeof ORA.common.clientID.setIdCallback&&ORA.common.clientID.setIdCallback(b),!0;ORA.Debug.error("setClientId failure - either no client id passed or client id has illegal character");return!1},storeClientId:function(a){var b=ORA.common.clientID.cfg.cookie,c=b.domain;if(b.enable){var d=function(){var e="";b.sessionOnly||ORA.common._isDNTSet()&&"anonymize"===
ORA.common.clientID.cfg.DNTBehavior||(e="; expires\x3d"+b.expireDate.toGMTString());return e}(),f=function(){var e="";ORA.common._getConfigObject()&&ORA.common._getConfigObject().secureCookie&&"https:"===document.location.protocol.toLowerCase()&&(e="; secure");return e}();b.autoTLD&&!0===b.autoTLD&&(c=ORA.cookieMgr.checkCookieOnDomainAndGetTLDomain(),b.domain=c);c=(""!==c?d+"; path\x3d/; domain\x3d"+c:d+"; path\x3d/")+f;d=ORA.common._getCookieAsObj(b.name);d.id=a;ORA.setCookie(b.name,d,c)}else ORA.common.clientID.clientId=
null,ORA.common._deleteCookie(b.name,"/",b.domain)},clearClientID:function(){ORA.common.clientID.clientId=null;var a=ORA.common.clientID.cfg.cookie;ORA.common._deleteCookie(a.name,"/",a.domain);ORA.fireEvent(new ORA.Event(ORA.Event.CLEAR_CLIENT_ID,ORA.Event.STATUS_SUCCESS))},getId:function(a,b){var c=function(d){ORA.common.clientID.clientId=d;ORA.common.clientID.storeClientId(ORA.common.clientID.clientId);b&&b(ORA.common.clientID.clientId)};ORA.common.protocols.xhrProtocol({endpoint:a.protocol+"://"+
a.clientIDServer+"/v4/account/"+(a.accountGuid||"not_supplied")+"/client/id",type:"GET"},function(d){if(null!==b){if("undefined"===typeof d||ORA.common.clientID.clientId)ORA.common.clientID.clientId?b(ORA.common.clientID.clientId):c(ORA.common.clientID.getUniqueID());else{var f={data:{}};try{f=JSON.parse(d)}catch(e){ORA.Debug.error("getId - Invalid JSON")}f.data.id?c(f.data.id):c(ORA.common.clientID.getUniqueID())}ORA.fireEvent(new ORA.Event(ORA.Event.COMMON_GETID,ORA.Event.STATUS_SUCCESS))}},function(){c(ORA.common.clientID.getUniqueID())})},
getUniqueID:function(){return window.crypto?"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return(a^crypto.getRandomValues(new Uint8Array(1))[0]&15>>a/4).toString(16)}):"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:b&3|8).toString(16)})}};
ORA.common.getMergedConfigs=function(a,b){var c=ORA.hasVal(b.config)?b.config:{};var d=ORA.hasVal(b.data)?b.data:{};c=ORA.paramsMerge(JSON.parse(JSON.stringify(a)),c);d=a.data?ORA.paramsMerge(a.data,d):d;ORA.hasVal(d)&&(c.data=JSON.parse(JSON.stringify(d)));return c};ORA.common._getConfigObject=function(){return ORA.analyticsModule?ORA.analyticsModule.prototype.oraConfigObj:{}};
ORA.common._mergeCopy=function(a,b,c){for(var d in a)if(a.hasOwnProperty(d)&&"[object Object]"===Object.prototype.toString.call(a[d]))b[d]=c(b[d]||{},a[d]);else if(a.hasOwnProperty(d))b[d]=a[d];else break};ORA.common._shallowMerge=function(a,b){"[object Object]"===Object.prototype.toString.call(b)&&ORA.common._mergeCopy(b,a,ORA.common._shallowMerge);return a};
ORA.common._deepMerge=function(){for(var a={},b=[].splice.call(arguments,0);0<b.length;){var c=b.splice(0,1)[0];"[object Object]"===Object.prototype.toString.call(c)&&ORA.common._mergeCopy(c,a,ORA.common._deepMerge)}return a};
ORA.common.CookieMgrClass=function(a,b){var c={},d=!1,f,e=a||function(k){return k},g=b||function(k){return k},h=this,t=function(k,m){k.replace(/\s/g,"");c[k]=m},r=function(){if(f=document.cookie)for(var k=f.split(";"),m=0;m<k.length;m++){var q=k[m].split("\x3d"),n=q.shift().replace(/^\s+|\s+$/g,""),u;1<=q.length&&(u=q.join("\x3d"));t(n,g(u))}d=!0};h.createCookie=function(k,m,q,n,u,v){var x=null;"session"!==n&&void 0!==q&&(x=new Date,x.setTime(x.getTime()+q));q="";ORA.hasVal(u)&&""!==u&&(q="; domain\x3d"+
u);u="";null!==v&&""!==v&&"undefined"!==typeof v&&(u="; path\x3d"+v);v="";null!==x&&(v="; expires\x3d"+x.toGMTString());h.setCookie(k,m,q+u+v)};h.getCookie=this._getCookieRaw=function(k){d||r();ORA.Debug.debug("getCookie: ["+k+", "+c[k]+"]");return c[k]};h.getCookieAsObj=function(k,m){!1===d&&r();var q=m||":",n=function(x){var y={};x&&(-1===x.indexOf("\x3d")?y[x]=x:ORA.common.extendArray(x.split(q)).forEach(function(z){var A=z.split("\x3d");z=A.shift();0<A.length&&z&&(A=A.join("\x3d"),y[z]=A)}));
return y},u={};if(k)return n(c[k]);for(var v in c)c.hasOwnProperty(v)&&(u[v]=n(c[v]));return u};h.setCookie=function(k,m,q,n){var u=q||"";n=n||":";if("object"===typeof m){var v=[];for(y in m)if(m.hasOwnProperty(y)&&"function"!==typeof m[y]){var x=[];x.push(y,m[y]);v.push(x.join("\x3d"))}m=v.join(n)}else m=void 0!==m?m:"";var y=!0;ORA.common._getConfigObject()&&!1===ORA.common._getConfigObject().secureCookie&&(y=!1);n="; secure";y&&"http:"!==document.location.protocol.toLowerCase()||(n="");document.cookie=
k+"\x3d"+e(m)+u+n;ORA.Debug.debug("setCookie: "+k+" with data: ["+e(m)+"]"+q+n);k=k+"\x3d"+m+u+n;try{var z=k.split("\x3d")[0],A=window.localStorage.getItem("ORA_COOK_STORE");q={};A&&(q=JSON.parse(A));var B=k.match(/expires=(.*?)(;|$)/);B&&0<B.length?new Date(B[1])>new Date?q[z]=k:delete q[z]:delete q[z];window.localStorage.setItem("ORA_COOK_STORE",JSON.stringify(q))}catch(C){ORA.Debug.debug("Error writing local storage: "+C.message)}d=!1};h.addCookie=h.setCookie;h.deleteCookie=h.cookieRemove=function(k,
m,q){var n=k+"\x3d; expires\x3dThu, 01 Jan 1970 00:00:01 GMT";m&&(n+="; path\x3d"+m);q&&(n+="; domain\x3d"+q);document.cookie=n;ORA.Debug.debug("deleteCookie: ["+k+", "+c[k]+"]");delete c[k];try{var u=window.localStorage.getItem("ORA_COOK_STORE");m={};u&&(m=JSON.parse(u));m&&m[k]&&(delete m[k],window.localStorage.setItem("ORA_COOK_STORE",JSON.stringify(m)))}catch(v){ORA.Debug.debug("Error deleting local storage: "+v.message)}};h.doesCookieExist=function(k){d||r();ORA.Debug.debug("doesCookieExist: "+
k+" \x3d "+!!c[k]+"]");return!!c[k]};h.checkAndDeleteCookie=function(k,m){return-1<document.cookie.indexOf(m)?(this.deleteCookie(m,"/","."+k),!0):!1};h.checkCookieOnDomainAndGetTLDomain=function(){var k=window.location.hostname,m=k.split("."),q="test_cookie"+Math.floor(9E4*Math.random()).toString();if(1!==m.length){for(k=m.length-1;0<=k;--k){var n=m.slice(k).join("."),u=new Date;u.setDate(u.getDate()+1);u=";domain\x3d."+n+";path\x3d/;expires\x3d"+u.toUTCString();h.setCookie(q,"cookie",u);if(h.checkAndDeleteCookie(n,
q)){var v=n;break}}return"."+v}return k};try{var w=window.localStorage.getItem("ORA_COOK_STORE"),l={};if(w){l=JSON.parse(w);for(var p in l)l.hasOwnProperty(p)&&!h.doesCookieExist(l[p].split("\x3d")[0])&&(document.cookie=l[p]);d=!1}}catch(k){ORA.Debug.debug("Error reading local storage: "+k.message)}h.addItemIntoCache=t;return h};
ORA.common.CountDownLatchClass=function(a,b,c){var d=c?c:"CountdownLatchClass";var f=a?a:0;var e=b&&ORA.common.isFn(b)?b:null;var g=!1;this.countUp=function(){f++};this.setCount=function(h){f=h};this.getCount=function(){return f};this.countDown=function(){if(!(0>=f)){--f;ORA.Debug.trace("Countdown Latch counting down by 1, new count: "+f,d);try{0===f&&e&&!1===g&&(e(),g=!0,ORA.Debug.trace("Countdown Latch running callback",d))}catch(h){ORA.Debug.error("CountDownLatch error:  failed to execute callback",
"020",h,d)}}};this.await=function(h){e=h&&ORA.common.isFn(h)?h:null};this.reset=function(){f=0;e=null}};
ORA.common._createScriptEl=function(a,b,c,d){var f={type:"text/javascript",async:"true",defer:"true"};f.onerror=d?d:function(){"_comm"===b?(ORA.Debug.error("OTS request fail: '"+a+"'",145),ORA.Debug.error("basic protocol failure ... aborting.  Check _comm url/payload",145)):ORA.Debug.error("_createScriptEl - aborting ... "+b,137)};f.src=a;window.setTimeout(function(){ORA.common._createElement("script",f,null,document.getElementsByTagName("head")[0]);c?c():ORA.Debug.trace("OTS request w/ basic protocol success")},
0)};ORA.common._createElement=function(a,b,c,d,f){f||(d&&(f=d.ownerDocument),f||(f=document));a=f.createElement(a);if(b)for(var e in b)b[e]&&b.hasOwnProperty(e)&&("onerror"===e?a.onerror=b[e]:a.setAttribute(e,b[e]));if(c)for(var g in c)c[g]&&c.hasOwnProperty(g)&&ORA.addDOMEvent(a,g,c[g]);d&&d.appendChild(a);return a};ORA.common._functionFactory=function(a){return ORA.common.isFn(a)?a:"string"===typeof a&&0<a.length?new Function(a):null};
ORA.common._execScript=function(a,b){try{return a&&0!==a.length&&""!==a?b?eval(a):window.execScript?window.execScript(a):window.eval(a):null}catch(c){throw ORA.Debug.error("_execScript failure:\n"+a,138,c),c;}};
ORA.common.getQryParams=function(a){var b=a.split(/[#]/g);b=(0<b.length?b[0]:a).split(/[&?]/g);var c={};try{for(var d=0,f=b.length;d<f;++d){var e=b[d].match(/^([^=]+)(?:=([\s\S]*))?/);if(e&&e[1]){var g="";try{g=decodeURIComponent(e[1])}catch(t){try{g=unescape(e[1])}catch(r){g=e[1]}}var h="";try{h="undefined"!==typeof e[2]?decodeURIComponent(e[2]):void 0}catch(t){try{h=unescape(e[2])}catch(r){h=e[2]}}c[g]?(c[g]=[c[g]],c[g].push(h)):c[g]=h}}}catch(t){ORA.Debug.error("problem getting params from: "+
a)}return c};ORA.common._isDNTSet=function(){return"yes"===navigator.doNotTrack||"1"===navigator.doNotTrack||1===navigator.doNotTrack||"1"===navigator.msDoNotTrack||"1"===window.doNotTrack};ORA.common._isEloquaOptOutSet=function(a){return a.ELOQUA&&void 0!==a.ELOQUA.GUID&&"00000000000000000000000000000000"===a.ELOQUA.GUID};ORA.common._isOracleOptOutSet=function(a){return a.OPTOUT&&void 0!==a.OPTOUT.s33&&"0"===a.OPTOUT.s33};
ORA.common._isInfinityOptOutSet=function(a){return a["Infinity.optout"]&&void 0!==a["Infinity.optout"].state&&"1"===a["Infinity.optout"].state};ORA.common._isWTOptOutSet=function(a){return!!a.WTOPTOUT&&a.WTOPTOUT["1"]};
ORA.common._isOptedOut=function(a){void 0===ORA.common._isOptedOut.invalidate&&(ORA.common._isOptedOut.invalidate=!1);if(void 0===this.rtnValue||void 0!==a||ORA.common._isOptedOut.invalidate)ORA.common._isOptedOut.invalidate=!1,a=a?a:ORA.common._getCookieAsObj(),this.isEloqua=ORA.common._isEloquaOptOutSet(a),this.isOPTOUT=ORA.common._isOracleOptOutSet(a),this.isInfinityOptout=ORA.common._isInfinityOptOutSet(a),this.isWTOPTOUT=ORA.common._isWTOptOutSet(a),this.rtnValue=this.isEloqua||this.isOPTOUT||
this.isInfinityOptout||this.isWTOPTOUT;this.rtnValue&&(a="OPTOUT reason- isEloqua: "+this.isEloqua+", isOPTOUT: "+this.isOPTOUT+", isInfinityOptout: ",a+=this.isInfinityOptout+", isWTOPTOUT: "+this.isWTOPTOUT,ORA.Debug.info(a));return this.rtnValue};ORA.common._setInfinityOptOut=function(a){var b=new Date,c="";isNaN(a)||(a=a||31536E7,b=new Date(b.getTime()+a),c=";expires\x3d"+b.toUTCString());ORA.common._setCookie("Infinity.optout","state\x3d1",c+";path\x3d/");ORA.common._isOptedOut.invalidate=!0};
ORA.common.loadJS=function(a,b,c){var d=b;2>arguments.length&&(d=!0);var f=document.createElement("script");f.type="text/javascript";f.async=d;f.src=a;d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(f,d)};ORA.common._getIEVer=function(a){a="undefined"!==typeof a?a:navigator.userAgent;return/msie\s|trident\/|edge\//i.test(a)&&parseInt(+/(edge\/|rv:|msie\s)([\d.]+)/i.exec(a)[2],10)||null};
ORA.common.isSafariBrowser=function(a){a="undefined"!==typeof a?a:navigator.userAgent;a=a.toLowerCase();return-1!==a.indexOf("safari")&&0>a.indexOf("chrome")};ORA.common.isMobileBrowser=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)};
ORA.common.visitMetaTags=function(a,b,c){b=b||window.document;if(b.documentElement)b=b.getElementsByTagName("meta");else if(b.all)b=b.all.tags("meta");else return;for(var d=b.length,f=0;f<d;f++){var e=b.item(f).name,g=b.item(f).content;0<e.length&&a(e,g,c)}};ORA.common.elemExists=function(a){return(a=ORA.getSelector()(a))&&0!==a.length?!0:!1};
ORA.common.createObserver=function(a,b){try{if("undefined"===typeof MutationObserver)return ORA.Debug.error("handleSPARules:  browser does not support MutationObserver",303),null;var c=ORA.common.extendArray,d=ORA.common.elemExists;if(!d(a))return ORA.Debug.trace("handleSPARules:  failed to attach observer to '"+a+"'"),!1;c(ORA.getSelector()(a)).forEach(function(f){(new MutationObserver(function(e){e.forEach(function(g){ORA.Debug.superfine("OBSERVER: "+g.type+" on "+f+", executing callback");ORA.Debug.superfine("executing callback: "+
b.toString());b(g)})})).observe(f,{attributes:!0,childList:!0,characterData:!0,subtree:!0});ORA.Debug.debug("createObserver:  Observing "+f.toString())});return!0}catch(f){return ORA.Debug.debug("createObserver:  MutationObserver API unavailable"),null}};ORA.common.protocols||(ORA.common.protocols={});
ORA.common.protocols={corsPost:function(a,b,c,d){var f=a.timeout||2E3,e={endpoint:a.endpoint,type:"POST"},g=!1,h=function(){if(!g&&ORA.hasVal(a.fallbackEndpoint)){var p=ORA.common.TrackingPipeline,k=p.getCommProtocol(ORA.common.CommManager.GIF);null===k&&(k=p.getCommProtocol(ORA.common.CommManager.DEFAULT));null===k?ORA.Debug.error("Couldnt find a fallback protocol","COMM"):(ORA.Debug.debug("Falling back to "+a.fallbackEndpoint,"COMM"),g=!0,k({endpoint:a.fallbackEndpoint,timeout:f},b,c,d))}},t=function(p){g||
(ORA.Debug.trace("corsPost: handling response\x3d'"+p+"'"),c&&c(p),g=!0)},r=function(p){return function(){g||(ORA.Debug.error(p+": payload:"+ORA.common.JSONPrettify(b)),!ORA.hasVal(a.fallbackEndpoint)&&d?d(p):h(),g=!0)}},w={events:[b]};ORA.Debug.debug("DCApi v2 payload: "+ORA.common.JSONPrettify(w));var l=function(p){ORA.Debug.trace("xdrRespHandler response\x3d'"+p.responseText+"'");t(p.responseText)};try{this.makeRequest(e,w,t,r,l,"application/json"),ORA.Debug.debug("endpoint: "+e),5<=ORA.Debug.getDebugLevel()&&
ORA.Debug.trace("payload: "+ORA.common.JSONPrettify(b)),window.setTimeout(function(){g||(ORA.Debug.debug("Timed out....trying fallback"),h(),g=!0)},f)}catch(p){r(p)()}},collectionV2Post:{name:"collection.v2.post",protocol:function(a,b,c,d){if(!b)throw Error("Payload is not defined");try{ORA.common.protocols.corsPost(a,b,c,d)}catch(f){ORA.Debug.error("DcApi v2 failed: "+f)}}},makeRequest:function(a,b,c,d,f,e){var g=a.type||"GET",h=a.endpoint;a="undefined"===typeof a.async?!0:!1;var t=function(){ORA.Debug.debug("xhrProtocol: request timed out ");
d("xhrProtocol: request timed out")};"string"===typeof b&&(b=JSON.parse(b));try{var r=new XMLHttpRequest;"withCredentials"in r?(a&&(r.onreadystatechange=this.xhrRespHandler(r,c,d)),r.open(g,h,a),r.withCredentials=!0):(r=new XDomainRequest,a&&(r.onload=f(r)),r.open(g,h,a));"GET"!==g&&e&&r.setRequestHeader("Content-type",e);r.onerror=d;r.ontimeout=t;r.send(JSON.stringify(b))}catch(w){ORA.Debug.debug("No CORS Support or Disabled"),d(w)}},createEndpointUrl:function(a,b){var c=a,d=[];b.dcsdat=(new Date).getTime();
for(var f in b)if(b.hasOwnProperty(f)){var e=d,g=e.push,h=f;var t=b[f];t="function"===typeof encodeURIComponent?encodeURIComponent(t):escape(t);g.call(e,h+"\x3d"+t)}0<d.length&&(c+="?"+d.join("\x26"));(d=ORA.common._getIEVer())&&9>d&&2048<c.length&&(c=c.substring(0,2040)+"\x26wt.tu\x3d1",ORA.Debug.debug("Warning: exceeded max size of limit 2047. Truncating payload."));return c},gifProtocol:function(a,b,c,d){var f=a.endpoint,e=!1,g=a.timeout||2E3,h=c||function(){},t=d||function(){};if(!b)throw Error("Payload is not defined");
if(ORA.common._isOptedOut()&&a.protocolType&&"default"!==a.protocolType)return ORA.Debug.debug("Sending no data due to opted out"),e=!0,ORA.common.invokeFn(t),!0;a=ORA.common.protocols.createEndpointUrl(f,b);b=new Image;b.onload=function(){if(!e)return e=!0,ORA.common.invokeFn(h),!0};b.onerror=function(){if(!e)return e=!0,ORA.common.invokeFn(t),!0};window.setTimeout(function(){e||(e=!0,ORA.common.invokeFn(t))},g);ORA.Debug.debug("gifProtocol sending:"+a);b.src=a;return!0},xhrProtocol:function(a,b,
c,d,f){var e=!1,g=a.endpoint,h=a.type||"GET",t=f||"application/json;charset\x3dUTF-8";f||(t="application/json;charset\x3dUTF-8");var r=function(w){if(!e){ORA.Debug.trace("xhrProtocol: handling response\x3d'"+w+"'");if(b)try{b(w)}catch(l){ORA.Debug.debug("xhrProtocol: error calling success callback: "+l.message)}e=!0}};f=function(w){if(!e){ORA.Debug.error(w);if(c)try{c(w)}catch(l){ORA.Debug.debug("xhrProtocol: error calling failure callback: "+l.message)}e=!0}};if(-1==="GETPUTPATCHPOST".indexOf(h))f("Unknown type of request: "+
h);else{h=function(w){return function(){ORA.Debug.trace("xdrRespHandler response\x3d'"+w.responseText+"'");r(w.responseText)}};try{this.makeRequest(a,d,r,f,h,t),ORA.Debug.debug("endpoint: "+g)}catch(w){ORA.Debug.debug("Got an exception"+w)}}},beaconProtocol:{name:"beaconProtocol",protocol:function(a,b){var c=a.endpoint,d={events:[b]};"sendBeacon"in window.navigator?(c=navigator.sendBeacon(c,JSON.stringify(d)),ORA.Debug.debug("navigator send "+c)):(a.type="POST",a.async=!1,ORA.common.protocols.makeRequest(a,
d))}},xhrRespHandler:function(a,b,c){return function(){try{if(200===a.status)switch(a.readyState){case 0:case 1:case 2:case 3:ORA.Debug.superfine("xhrProtocol: in progress, state: "+a.readyState);break;case 4:ORA.Debug.debug("xhrProtocol: response received");b(a.responseText);break;default:ORA.Debug.debug("xhrProtocol: unusual readyState\x3d"+a.readyState)}else 4===a.readyState&&c("xhrProtocol xhrResponseHandler:  communication error, http(cor) status: "+a.status+" response'"+a.responseText)}catch(d){c(d)}}}};
ORA.common.isFn=function(a){return"[object Function]"===Object.prototype.toString.call(a)};ORA.common.isArray=function(a){return"object"===typeof a&&a instanceof Array};ORA.common.isRegExp=function(a){return"object"===typeof a&&a.constructor===RegExp};ORA.common.invokeFn=function(a,b){try{b?a(b):a()}catch(c){ORA.Debug.error("Error Invoking function "+c)}};
ORA.common.extendArray=function(a){a&&(a.forEach||(a.forEach=function(b,c){for(var d=c||window,f=0,e=this.length;f<e;++f)b.call(d,this[f],f,this)}),a.filter||(a.filter=function(b,c){for(var d=c||window,f=ORA.common.extendArray([]),e=0,g=this.length;e<g;++e)b.call(d,this[e],e,this)&&f.push(this[e]);return f}),a.indexOf||(a.indexOf=function(b){for(var c=0;c<this.length;++c)if(this[c]===b)return c;return-1}));return a};
ORA.common.extendObject=function(a){a&&(a.forEach||(a.forEach=function(b,c){var d=c||window,f;for(f in this)this.hasOwnProperty(f)&&a.forEach!==a[f]&&a.length!==a[f]&&b.call(d,this[f],f,this)}),a.length||(a.length=function(){var b=0,c;for(c in this)this.hasOwnProperty(c)&&"function"!==typeof this[c]&&b++;return b}));return a};ORA.common.isEmpty=function(a){if(!a||Object.keys&&0===Object.keys(a).length)return!0;for(var b in a)if(a.hasOwnProperty(b)){if(""===b&&"undefined"===typeof a[b])break;return!1}return!0};
ORA.common.objectToKVPArray=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&""!==a[c]&&void 0!==a[c]&&"function"!==typeof a[c]&&b.push({k:c,v:a[c]});return b};ORA.common.extendProps=function(a,b,c){for(var d in b)if(c||"undefined"===typeof a[d])a[d]=b[d];return a};ORA.common.JSONPrettify=function(a){try{if("undefined"!==typeof JSON)return JSON.stringify(a,null,2)}catch(b){ORA.Debug.debug(b.toString())}};
ORA.common.trim=function(a){return a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};ORA.common.getAttrIfExistsElseDefault=function(a,b,c){if(ORA.hasVal(a[b]))return a[b];if(ORA.hasVal(c))return c;throw"ORA.common.getAttrIfExistsElseDefault: missing fieldName: "+b;};ORA.common.isInteger=function(a){isNaN(a)?a=!1:(a=parseFloat(a),a=a===a);return a};
ORA.common.getObjId=function(a){var b=[],c=a,d=function(e){for(var g=1;e.previousElementSibling;)g++,e=e.previousElementSibling;return g},f=function(e){return window.CSS&&window.CSS.escape?window.CSS.escape(e):e};if(a.id)return"#"+f(c.id);for(;c.parentNode;)if(c.id){b.unshift("#"+f(c.id));break}else c===c.ownerDocument.documentElement?b.unshift(c.tagName):(a=d(c),b.unshift(c.tagName+":nth-child("+a+")")),c=c.parentNode;return b.join(" \x3e ")};
ORA.common.getObjIdStrict=function(a){for(var b=[];a.parentNode;){if(a===a.ownerDocument.documentElement)b.unshift(a.tagName);else{for(var c=1,d=a;d.previousElementSibling;)c++,d=d.previousElementSibling;b.unshift(a.tagName+":nth-child("+c+")")}a=a.parentNode}return b.join(" \x3e ")};
ORA.common._qsaEscape=function(a){if(null===a||void 0===a||"string"!==typeof a)return a;for(var b="",c=0;c<a.length;){var d=a.charAt(c);d=/\s/g.test(d)?"":/[ !"#$%&'()*+,./;<=>?@\[\\\]^`{|}~:]/.test(d)?"\\"+d:d;b+=d;c++}/^_/.test(b)&&(b="\\_"+b.slice(1));/^-[-\d]/.test(b)&&(b="\\-"+b.slice(1));a=a.charAt(0);/\d/.test(a)&&(b="\\3"+a+" "+b.slice(1));return b};
ORA.common._getClassAttrValue=function(a){var b="";a&&"string"===typeof a.className&&(b=a.className);return b.replace(/^\s+/,"").replace(/\s+$/,"")};ORA.common._isDynamicClass=function(a){var b=/\d{4}/i.test(a)||/cet-responsive-\d+/i.test(a)||/^owid/i.test(a);a=!!~["active","hovered"].indexOf(a);return b||a};ORA.common._getClasses=function(a){a=ORA.common._getClassAttrValue(a).split(" ");for(var b=[],c=0;c<a.length;c++)a[c]&&!ORA.common._isDynamicClass(a[c])&&b.push(ORA.common._qsaEscape(a[c]));return b};
ORA.common._isYuiDynamicId=function(a){return/\s+/i.test(a)?!0:/ember\d+/i.test(a)?!0:/yui_/i.test(a)?!0:/^owid/i.test(a)?!0:/\d{4}/i.test(a)?!0:/anonymous_element_\d+/i.test(a)?!0:!1};ORA.common._getTheSameSiblings=function(a,b){for(var c=a.parentNode,d=Array.prototype.slice.call(c.querySelectorAll(b)),f=[],e=0;e<d.length;e++){var g=d[e];0<=Array.prototype.indexOf.call(c.children,g)&&f.push(g)}return f};
ORA.common._getSubSelectorByClasses=function(a,b,c){if(1===a.length)return c;var d=c;a=Array.prototype.indexOf.call(a,b);for(b=0;b<a;b++)d+="~"+c;d+=":not("+c;for(b=0;b<a+1;b++)d+="~"+c;return d+")"};ORA.common._getSubSelectorByTagWithIndex=function(a,b,c){if(1===a.length)return c;a=Array.prototype.indexOf.call(a,b);return c+":nth-of-type("+(a+1)+")"};
ORA.common._getUniqueId=function(a,b){if(b&&b.id){var c=ORA.common._qsaEscape(b.id);if(c&&!ORA.common._isYuiDynamicId(b.id)){var d=c;/^\d/gi.test(b.id)&&(d=b.id);if(1===a.querySelectorAll('[id\x3d"'+d+'"]').length)return c}}return null};ORA.common._filterUniqueClasses=function(a,b){for(var c="",d=0;d<b.length&&(!b[d]||"-"===b[d]||(c+="."+b[d],1!==a.querySelectorAll(c).length));d++);return c};
ORA.common.getObjIdClasses=function(a){if(!a||"object"!==typeof a&&1!==a.nodeType||!a.ownerDocument)return"";var b=a,c=[];for(a=a.ownerDocument.documentElement;b.parentNode&&b!==a;){var d=ORA.common._getUniqueId(a,b);if(d){c.unshift("#"+d);break}d=ORA.common._getClasses(b);if(d.length){d=ORA.common._filterUniqueClasses(a,d);if(1===a.querySelectorAll(d).length){c.unshift(d);break}var f=ORA.common._getTheSameSiblings(b,d);d=ORA.common._getSubSelectorByClasses(f,b,d);c.unshift(d)}else d=b.tagName.toLowerCase().replace(":",
"\\:"),f=ORA.common._getTheSameSiblings(b,d),d=ORA.common._getSubSelectorByTagWithIndex(f,b,d),c.unshift(d);b=b.parentNode}return c.join(" \x3e ")};ORA.common.encode=function(a){for(var b=[],c=0;c<a.length;c++){var d=b,f=d.push;var e=void 0;var g=a[c],h=[];for(e in g)g.hasOwnProperty(e)&&(h.push(String(e)),h.push(encodeURIComponent(g[e])));e=h.join(",");f.call(d,e)}return b.join(":")};
ORA.common.decode=function(a){var b=[];a=a.split(":");for(var c=0;c<a.length;c++){for(var d=b,f=d.push,e=a[c].split(","),g={},h=0;h<e.length;h+=2)g[e[h]]=decodeURIComponent(e[h+1]);f.call(d,g)}return b};ORA.common.isFpcSet=function(a,b){var c=ORA.common._getCookieAsObj,d=ORA.common.isEmpty;c=c(a);return d(c)?2:b===c.id?0:3};ORA.common.addEventListenersOnDOMElement=function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.addEvent("on"+b,c)};
ORA.common.getChildNodes=function(a,b){return a.querySelectorAll?a.querySelectorAll(b):[]};ORA.common.triggerMutationCallback=function(a,b,c,d){var f=a;"FORM"===a.nodeName&&(f=a.parentNode);a=ORA.common.getChildNodes;d=a(f,d);0<d.length?c(d,b):ORA.Debug.debug("dom has changed","ANA-FT")};
ORA.common.getMutationObserver=function(a,b,c){return new MutationObserver(function(d){var f=ORA.common.triggerMutationCallback;if(a)for(var e=0;e<d.length;++e)for(var g=0;g<d[e].addedNodes.length;++g)f(d[e].addedNodes[g],b,c,a);else c(b)})};
ORA.common.addMutationObserver=function(a,b,c){try{if("undefined"===typeof MutationObserver)return ORA.Debug.error("browser does not support MutationObserver",303),null;var d=ORA.common.getMutationObserver;d(c,a,b).observe(document.documentElement||document.body,{attributes:!0,childList:!0,subtree:!0});return!0}catch(f){return ORA.Debug.debug("createObserver:  MutationObserver API unavailable","Common"),null}};
ORA.common.isElementInViewport=function(a){if("hidden"===a.style.visibility)return!1;var b=a.getBoundingClientRect().left,c=a.getBoundingClientRect().top,d=window.innerWidth+(window.scrollX||document.body.scrollLeft)||0,f=a.clientWidth;a=a.clientHeight;return c<(window.innerHeight+(window.scrollY||document.body.scrollTop)||0)&&0<c+a&&b<d&&0<b+f};
ORA.common.scrollEventCallback=function(a){this.documentObject||(this.documentObject={},this.documentObject.de=document.documentElement,this.documentObject.db=document.body,this.documentObject.hs="CSS1Compat"===document.compatMode?this.documentObject.de.clientHeight||window.innerHeight||0:this.documentObject.db.clientHeight||0);a=Math.ceil(Math.round((this.documentObject.hs+(window.pageYOffset||this.documentObject.de&&this.documentObject.de.scrollTop||this.documentObject.db.scrollTop))/Math.max(this.documentObject.db.scrollHeight,
this.documentObject.de.scrollHeight,this.documentObject.db.offsetHeight,this.documentObject.de.offsetHeight,this.documentObject.db.clientHeight,this.documentObject.de.clientHeight)*100)/a);ORA.Debug.debug("percentilePart value "+a,"COMMON");return a};ORA.common.getSelectedOption=function(a){return a.selectedOptions?a.selectedOptions[0].value:a.options[a.selectedIndex].text};
ORA.common.readDOMValue=function(a){if(a)switch(a.nodeName){case "SELECT":return ORA.common.getSelectedOption(a);case "INPUT":return a.value;default:return a.innerText}else return"NO_VALUE_FOUND"};ORA.common.getValueFromDOM=function(a,b,c){if("undefined"!==typeof a){if(b)return(b=c.parentNode.querySelector(a))||(b=document.querySelector(a)),ORA.common.readDOMValue(b);b=document.querySelectorAll(a);a=[];for(c=0;c<b.length;c++)a.push(ORA.common.readDOMValue(b[c]));return a.join(";")}return"NO_VALUE_FOUND"};
ORA.common.CommManagerClass=function(){var a={};this.OTS="ots";this.JSONP="jsonp";this.GIF="gif";var b=this.DEFAULT="default",c=ORA.common.protocols.gifProtocol;this.execReq=function(d){if(d.isSendEnabled()){if(0===d.endpoints.length){ORA.Debug.debug("Warning: no endpoint for "+JSON.stringify(d));return}for(var f=0;f<d.endpoints.length;f++){var e=d.endpoints[f];var g=e.desc?e.desc:"";var h=e.protocolType||b;if(!h)throw"Unable to determine protocol from message "+g;(g=a[h])?g(e,d.payload,d.success,
d.fail):ORA.Debug.error("No comm protocol registered for msg:'"+JSON.stringify(d,null,2)+"'")}}else ORA.Debug.trace("Payload is not being sent, the sendDisasble flag is set :"+JSON.stringify(d,null,2)),ORA.common.invokeFn(d.success);ORA.fireEvent(new ORA.Event(ORA.Event.COMMON_COM_EXEC_REQ,ORA.Event.STATUS_SUCCESS))};this.setProtocol=function(d,f,e){a[d]&&ORA.Debug.debug("warning: protocol '+name+' exists, so overwriting");e&&!0===e&&(b=d);ORA.Debug.debug("setProtocol() - name: "+d);ORA.Debug.trace("setProtocol() - protocol: "+
f.toString());a[d]=f};this.removeProtocol=function(d,f){a[d]?(delete a[d],ORA.Debug.debug("removing protocol: "+d)):ORA.Debug.debug("warning: delete of protocol "+d+", because doesn't exist")};this.getProtocol=function(d){return a[d]?a[d]:null};this.setProtocol(this.DEFAULT,c)};ORA.common.CommManager=new ORA.common.CommManagerClass;
ORA.common.Message=function(a){var b=this;if(!a.endpoints)throw Error("Message created w/o endpoint, params: "+JSON.stringify(a));if(!a.payload)throw Error("Message created w/o payload, params: "+JSON.stringify(a));for(var c=0;c<a.endpoints;c++)if(!a.endpoints[c].endpoint)throw Error("Message must contain an endpoint"+JSON.stringfy(a.endpoints));b.params=JSON.parse(JSON.stringify(a));b.endpoints=this.params.endpoints;b.payload=this.params.payload;b.desc=this.params.desc;if(a.success)var d=a.success;
if(a.fail)var f=a.fail;b.params.userDefinedParams&&(b.userDefinedParams=b.params.userDefinedParams);var e=function(h,t){try{"undefined"!==typeof h&&h(b,t)}catch(r){ORA.Debug.error("Failure in message callback for: "+b.desc)}};b.fail=function(h){e(f,h)};b.success=function(h){e(d,h)};b.setParam=function(h,t,r){ORA.hasVal(h)&&ORA.hasVal(t)?(h=h.toLowerCase(),"undefined"!==typeof b.payload[h]&&!0!==r?ORA.Debug.trace("Not overriding payload param '"+h+"' to '"+t+"'"):b.payload[h]=t):ORA.Debug.error("setParam - missing either key or val, not setting")};
b.getParam=function(h){if(!h)return ORA.Debug.error("getParam - missing key"),null;h=h.toLowerCase();return"undefined"===typeof b.payload[h]?null:b.payload[h]};var g=!0;b.sendDisable=function(){g=!1};b.sendEnable=function(){g=!0};b.isSendEnabled=function(){return g}};
ORA.common.MutationMgrClass=function(){var a=function(){var b={},c={1:{},2:{},3:{}};b.put=function(d,f,e){var g=2;"undefined"!==typeof e&&(g=e);null!==b.get(d)&&(ORA.Debug.debug("Warning: mutant id: ' "+d+"' already registered, overwriting mutation and priority "),b.rm(d));c[g][d]=f};b.get=function(d){for(var f in c)if(c[f][d])return c[f][d];return null};b.rm=function(d){for(var f in c)c[f][d]&&delete c[f][d]};b.getMutationQueue=function(){var d=new ORA.common.Queue,f=function(e,g,h){d.enqueue({id:g,
mutant:h[g]})};ORA.common.extendObject(c[1]).forEach(f);ORA.common.extendObject(c[2]).forEach(f);ORA.common.extendObject(c[3]).forEach(f);return d};return b}();this.register=function(b,c,d){try{a.get(b)&&ORA.Debug.debug("Warning:  "+b+" has a registered mutation, overwriting"),a.put(b,c,d),ORA.Debug.debug("mutant id: '"+b+"' registered per mutant registration act"),ORA.Debug.superfine("mutation: '"+c+"'")}catch(f){ORA.Debug.error("Error:  MutationMgr unable to register mutation id: "+b+", mutation: "+
c,null,f)}};this.deregister=function(b){try{a.get(b)&&(a.rm(b),ORA.Debug.debug("mutant id: '"+b+"' deregistered"))}catch(c){ORA.Debug.error("Error:  MutationMgr unable to deregister mutation id: "+b,null,c)}};this.getMutation=function(b){return a.get(b)?a.get(b):null};this.mutate=function(b){try{for(var c=a.getMutationQueue(),d;!c.isEmpty();){d=c.dequeue();ORA.Debug.superfine("mutant: '"+d.id+"', before(unmutated) msg: "+ORA.common.JSONPrettify(b));if(b.params&&"collect"===b.params.desc){var f="analyticsAnnotate"===
d.id,e=b.params.applyMutations||!1,g=b.params.sendSessionInfo||void 0===b.params.sendSessionInfo;(e||g)&&(g&&f||e&&!f)&&d.mutant(b)}else d.mutant(b);ORA.Debug.trace("mutant: '"+d.id+"' has processed msg");ORA.Debug.superfine("mutant: '"+d.id+"', after(mutated) msg: "+ORA.common.JSONPrettify(b))}}catch(h){ORA.Debug.error("Problem with mutation error: '"+h+"'","019",h,"mutationMgrClass")}};this.listMutations=function(){for(var b=a.getMutationQueue(),c=[],d;!b.isEmpty();)d=b.dequeue(),ORA.Debug.debug(JSON.stringify(d)),
c.push(d);return c}};ORA.common.Queue=function(){var a=[],b=0;this.getLength=function(){return a.length-b};this.isEmpty=function(){return 0===a.length};this.enqueue=function(c){a.push(c)};this.dequeue=function(){if(0!==a.length){var c=a[b];2*++b>=a.length&&(a=a.slice(b),b=0);return c}};this.peek=function(){if(0<a.length)return a[b]}};
ORA.common.TrackingPipelineClass=function(){var a=!0,b=this,c={},d=0,f={},e=!1,g=new ORA.common.Queue,h=new ORA.common.CommManagerClass,t=new ORA.common.MutationMgrClass,r=ORA.common.Message;this.registerProduct=function(l,p,k){if(!l)throw Error("Product must have a name");if(c[l])ORA.Debug.debug("Product "+l+"already registered");else{var m={name:l,timeout:4E3,timedOutCallback:function(){},ready:!1,timedOut:!1};"undefined"!==typeof p&&(m.timeout=p);k&&(m.timedOutCallback=k);c[m.name]=m;d++;ORA.Debug.debug("registering product "+
m.name+" to TrackingPipeline");var q=this;window.setTimeout(function(){if(!m.ready&&(m.timedOut=!0,q.productCountDown(),ORA.Debug.debug("Product "+JSON.stringify(m)+" timed out"),m.timedOutCallback))try{m.timedOutCallback()}catch(n){ORA.Debug.error("Failure in product callback for: "+m)}},m.timeout)}};this.getProduct=function(l){return c[l]};this.productIsReady=function(l){if(c[l]){var p=c[l];!0===p.ready?ORA.Debug.debug("Product "+p.name+" is already 'ready'"):p.timedOut?ORA.Debug.debug("Product "+
p.name+" has timed out"):(p.ready=!0,ORA.Debug.debug("Pipeline product: "+l+" set to ready"),this.productCountDown())}else ORA.Debug.debug("Product "+l+" isn't registered. Can't set to ready")};this.getProductCount=function(){return d};this.productCountDown=function(){0!==d&&d--;if(0===d&&!1===e){if(!0===a){var l=new r({endpoints:[],desc:"seed message",payload:b.getSeedMsgPayload(),mutation:{pageview:!0}});b.enqueue(l);ORA.Debug.debug("TrackingPipeline enqueued the seed msg")}else ORA.Debug.trace("Seed Message disabled, not enqueueing");
this.flush()}};var w=function(l){var p=ORA.common._getConfigObject();p=p&&p.DNTBehavior||"honorDNT";if(ORA.common._isDNTSet())switch(p){case "honorDNT":ORA.Debug.debug("*** DNTBehavior: DNT is set in the browser - canceling payload ***");return;case "anonymize":l.payload.dcsipa="1";ORA.Debug.debug("DNTBehavior: DNT is set to anonymize the session, adding dcsipa\x3d1 to payload");break;case "ignoreDNT":ORA.common._isDNTSet()&&ORA.Debug.debug("DNTBehavior: DNTBehavior is set to ignore the browser DNT setting")}t.mutate(l);
h.execReq(l)};this.enqueue=function(l){if(!l)throw Error("Message isn't defined!");ORA.Debug.trace("enqueueing message: "+JSON.stringify(l,null,2));g.enqueue(l);return 1};this.flush=function(){for(;!g.isEmpty();){var l=g.dequeue();w(l)}this.enqueue=function(p){w(p)};e=!0;ORA.fireEvent(new ORA.Event(ORA.Event.COMMON_TRACKING_FLUSH,ORA.Event.STATUS_SUCCESS));ORA.Debug.debug("TrackingPipeline has been flushed")};this.getLength=g.getLength;this.setCommProtocol=h.setProtocol;this.removeCommProtocol=h.removeProtocol;
this.getCommProtocol=h.getProtocol;this.registerMutation=t.register;this.deregisterMutation=t.deregister;this.getMutation=t.getMutation;this.listMutations=t.listMutations;this.registerProducts=function(){if(ORA&&ORA.getTrackingPipelineProducts){var l=ORA.getTrackingPipelineProducts(),p;for(p in l)l.hasOwnProperty(p)&&this.registerProductWithTimeout(l,p)}};this.registerProductWithTimeout=function(l,p){l[p].timeout?this.registerProduct(l[p].name,l[p].timeout):this.registerProduct(l[p].name)};this.disableSeed=
function(){ORA.Debug.debug("Seed Message disabled, initial seed message will not be enqueued");a=!1};this.seedMsgEnabled=function(){return a};this.setSeedMsgPayload=function(l){f=l};this.getSeedMsgPayload=function(){return f};this.hasFlushed=function(){return e}};
ORA.common.PluginMgrClass=function(a){var b=this,c=a||"ora-plugins",d,f={},e=new ORA.common.CountDownLatchClass(0,null,c+":PluginMgrClass"),g=0,h=!1,t=!1;b.setReady=function(){t=!0};b.isReady=function(){return t};b.getPlugin=function(l){return f[l]?f[l]:null};b.clearPlugins=function(){f={};e.reset()};b.setInjectConfigsCb=function(l){d=l};b.setInitPluginsCallback=function(l){e.await(l)};b.setNumExpectedPlugins=function(l){ORA.Debug.trace("setNumExpectedPlugins("+l+")",c);e.setCount(l);g=l};b.getNumPluginsToLoad=
function(){return g};var r=function(){ORA.Debug.debug("asyncReady initPluginLatch.countDown()",c);e.countDown()},w=function(l){ORA.common.isFn(l)?l():ORA.common._functionFactory(l)()};b._listPlugins=function(){ORA.Debug.info(JSON.stringify(f),c);return f};b.initPlugins=function(){if(!0!==h){h=!0;var l=function(p,k){var m=k.initCb,q=k.async,n=k.blockFlag,u=k.successCb,v=k.failCb,x=function(){!0!==(f[p]&&ORA.hasVal(f[p].succeeded))&&(ORA.Debug.debug("Running fail callback for '"+p+"'",c),v(),ORA.Debug.debug("plugin fail initPluginLatch.countDown()",
c),e.countDown())},y=window.setTimeout(x,k.timeout),z=function(){ORA.Debug.debug("Running success callback for '"+p+"'",c);u();f[p]&&(f.succeeded=!0);window.clearTimeout(y)};n=!0===n?function(){try{m(k,r),z()}catch(A){ORA.Debug.error("Error executing '"+p,"'",c),x()}}:function(){try{m(k),z(),ORA.Debug.debug("plugin success initPluginLatch.countDown()",c),e.countDown()}catch(A){ORA.Debug.error("Error executing '"+p,"'",c),x()}};!0===q?window.setTimeout(n,0):n()};ORA.common.extendObject(f).forEach(function(p,
k){ORA.Debug.debug("pluginMgr running init for "+k,c);var m=ORA.common.isFn;try{m(p.initCb)&&l(k,p)}catch(q){ORA.Debug.error("pluginMgr problem in init of '"+k+"' "+q.toString(),c)}})}};b._regPlugin=function(l,p,k,m){var q={};k&&(q=k);k=ORA.common.isFn;var n=ORA.common.extendObject,u="ora-plugins";m&&(u=m);ORA.Debug.debug("Start process of registering Plugin "+l,c);k(d)&&n(d(l,u)).forEach(function(x,y){q[y]=x});m=function(){ORA.Debug.error("plugin: "+u+":"+l+" init callback execution has failed",
c)};k=function(){ORA.Debug.debug("plugin: "+u+":"+l+" init callback has executed successfully",c)};n=!1;void 0!==q.blockCollect&&(n=q.blockCollect);var v=null;ORA.common.isFn(p)&&(v=p);p={initCb:v,blockFlag:n,timeout:q.timeout||4E3,async:!1!==q.async,successCb:ORA.common._functionFactory(q.success)||k,failCb:ORA.common._functionFactory(q.fail)||m,config:q,pluginName:l};f[l]?ORA.Debug.debug("Plugin "+l+" is a duplicate - over writing with new plugin",c):ORA.Debug.debug("Plugin "+l+" is a new - adding new plugin",
c);f[l]=p;g--;ORA.Debug.debug("loadPlugin Count is "+g,c);b.checkInitReady()};b.checkInitReady=function(){if(0>=g&&!1===h){var l=ORA.Event.ANA_HOSTED_PLUGINS_LOADED;"ora-plugins"===c&&(l=ORA.Event.ANA_ORA_PLUGINS_LOADED);ORA.fireEvent(new ORA.Event(l,ORA.Event.STATUS_SUCCESS));ORA.Debug.trace("checkInitReady:  loadPluginCount("+g+"), plugins have loaded so running initPlugins()",c);b.initPlugins()}else ORA.Debug.trace("checkInitReady:  loadPluginCount("+g+"), not running initPlugins()",c)};b.processHostedPlugins=
function(l){ORA.Debug.debug("Processing Hosted Plugins "+JSON.stringify(l),c);var p=function(v,x){x.loaded=!0;ORA.Debug.debug("Executing function ("+v+")",c);return function(){try{w(v)}catch(y){ORA.Debug.debug("Hosted plugin execution failed: "+y.message,c),e.countDown(),x.fail&&w(x.fail)}}},k=function(v){return function(){v.loaded||(ORA.Debug.debug("Hosted Plugin "+v.pluginName+" src:"+v.src+" timed out",c),v.timedout=!0,e.countDown(),v.fail&&w(v.fail))}},m=function(v,x){var y=x.src,z;(z=ORA.common.isFn(y))||
(z=y.split("/"),z=!/\.js$/i.test(z.pop()));z?(ORA.Debug.debug("Plugin "+v+" is a function - executing function",c),window.setTimeout(p(y,x)(y,x),1)):(ORA.Debug.debug("Plugin "+v+" is a hosted script "+y+" - executing loadJS()",c),ORA.analytics.loadJS(y,x.async||!0))},q;for(q in l)if(l.hasOwnProperty(q)&&"function"!==typeof l[q]){var n=l[q],u=!0;void 0!==n.enable&&(u=n.enable);u?(n.pluginName=q,n.loaded=!1,ORA.Debug.debug("Found Hosted Plugin "+q+" Processing",c),ORA.analytics.plugins[q]=n,m(q,n),
n.timeout||(n.timeout=4E3),window.setTimeout(k(n),n.timeout)):(e.countDown(),ORA.Debug.debug("Plugin "+q+" is disabled",c))}}};
(function(){ORA.Debug.superfine=ORA.Debug.superfine;ORA.Debug.trace=ORA.Debug.trace;ORA.Debug.error=ORA.Debug.error;ORA.Debug.debug=ORA.Debug.debug;ORA.Debug.info=ORA.Debug.info;var a=function(c,d){var f={};ORA.common.extendObject(c).forEach(function(e,g){var h=g.toLowerCase();f[h]=e});void 0===f["wt.dl"]&&d&&(f["wt.dl"]=d);return f},b=function(){var c=function(e){var g=ORA.common.TrackingPipeline,h=new ORA.common.Message(e);g.enqueue(h);ORA.Debug.debug("Common enqueued: '"+e.desc+"'","COMMON")},
d=function(e,g,h){ORA.Debug.info("ORA."+g);var t=function(k){k=k&&k.params&&k.params.config&&k.params.config.endpoints?k.params.config.endpoints:[];ORA.common.extendArray(k).forEach(function(m,q,n){m.protocolType||(n[q].protocolType="gif")});return k}(e),r=function(k){var m={};k&&k.params&&k.params.data&&(m=JSON.parse(JSON.stringify(k.params.data)));return a(m,h)}(e),w,l;e&&e.params&&e.params.config&&e.params.config.callbacks&&e.params.config.callbacks.success&&(w=e.params.config.callbacks.success);
e&&e.params&&e.params.config&&e.params.config.callbacks&&e.params.config.callbacks.fail&&(l=e.params.config.callbacks.fail);var p={};p[g]=!0;return ORA.paramsMerge(e.params.config,{endpoints:t,desc:g,payload:r,mutation:p,success:w,fail:l})},f=function(){ORA.common.TrackingPipeline=void 0;ORA.common.pluginMgr=void 0;ORA.hasVal(ORA.common.id.hasStarted)&&!0===ORA.common.id.hasStarted&&(ORA.common.id.hasStarted=!1);ORA.common.PageAnalyzeMutant=void 0};ORA.addEventHandler(ORA.Event.LOADER_CLICK,function(e){var g=
d(e,"click",1);e.params&&e.params.config&&e.params.config.testAlias?g.testAlias=e.params.config.testAlias:e.params&&e.params.testAlias&&(g.testAlias=e.params.testAlias);e.params&&e.params.config&&e.params.config.conversionPoint?g.conversionPoint=e.params.config.conversionPoint:e.params&&e.params.conversionPoint&&(g.conversionPoint=e.params.conversionPoint);g.userDefinedParams=e.params;c(g)});ORA.addEventHandler(ORA.Event.LOADER_COLLECT,function(e){e=d(e,"collect",0);c(e)});ORA.addEventHandler(ORA.Event.LOADER_VIEW,
function(e){e=d(e,"view",0);c(e)});ORA.addEventHandler(ORA.Event.LOADER_RESET,f);ORA.addEventHandler(ORA.Event.LOADER_PRE_EXECUTE,function(e){f();e=e.params&&ORA.hasVal(e.params)?e.params:{};ORA.common.setup(e)})};ORA.cookieMgr=new ORA.common.CookieMgrClass;ORA.common._setCookie=ORA.cookieMgr.setCookie;ORA.common._getCookieAsObj=ORA.cookieMgr.getCookieAsObj;ORA.common._deleteCookie=ORA.cookieMgr.deleteCookie;ORA.common._getCookieRaw=ORA.cookieMgr.getCookie;ORA.common._createCookie=ORA.cookieMgr.createCookie;
ORA.common._doesCookieExist=ORA.cookieMgr.doesCookieExist;ORA.common.setup=function(c){ORA.Debug.debug("Common setup() started");ORA.common.TrackingPipeline=new ORA.common.TrackingPipelineClass;ORA.common.TrackingPipeline.setSeedMsgPayload(a(c&&c.data?c.data:{}));ORA.common.pluginMgr=new ORA.common.PluginMgrClass("ora-plugins");ORA.common.hostedPluginMgr=new ORA.common.PluginMgrClass("hosted-plugins");c=new ORA.common.mutations.PageAnalyze;ORA.common.PageAnalyzeMutant=c;ORA.common.TrackingPipeline.registerProducts();
ORA.common.TrackingPipeline.setCommProtocol(ORA.common.protocols.collectionV2Post.name,ORA.common.protocols.collectionV2Post.protocol);ORA.common.TrackingPipeline.setCommProtocol(ORA.common.protocols.beaconProtocol.name,ORA.common.protocols.beaconProtocol.protocol);ORA.common.TrackingPipeline.registerMutation("pageAnalyzeMutant",c.mutation,1);b();ORA.Debug.debug("Common setup() finished","COMMON")};ORA.isOptedOut=ORA.common._isOptedOut;ORA.setInfinityOptOut=ORA.common._setInfinityOptOut;ORA.setCookie=
ORA.common._setCookie;ORA.deleteCookie=ORA.common._deleteCookie;ORA.getCookieRaw=ORA.getCookie=ORA.common._getCookieRaw;ORA.getCookieAsObj=ORA.common._getCookieAsObj;ORA.doesCookieExist=ORA.common._doesCookieExist;ORA.getIEVer=ORA.common._getIEVer;ORA.JSONPrettify=ORA.common.JSONPrettify;ORA.extendObject=ORA.common.extendObject;ORA.getQryParams=ORA.common.getQryParams;ORA.getClientID=ORA.common.clientID.getClientID;ORA.setClientID=ORA.common.clientID.setClientID;ORA.clearClientID=ORA.common.clientID.clearClientID})();
ORA.common.mutations.PageAnalyze=function(a){a=a||{};var b=/WT\.|DCSEXT\.|DCS\./,c=/ORA\./,d={},f={},e={},g={},h=0,t=a.window||window,r=a.document||window.document,w=a.navigator||window.navigator,l=a.location||window.location;this.errorLog=function(n){ORA.Debug.error("",101,n,"PageAnalyze")};var p=function(){ORA.Debug.trace("Running defaultMeta()","Common");ORA.common.visitMetaTags(function(n,u){null!==n.toUpperCase().match(b)&&(d[n.split(".")[1]]=u)},r)},k=function(){ORA.Debug.trace("Running altMeta()",
"Common");ORA.common.visitMetaTags(function(n,u){null!==n.toUpperCase().match(c)&&(g[n]=u)},r)},m=function(){d={};f={};e={};g={};ORA.Debug.debug("Running Page Analysis","Common");ORA.Debug.trace("Running StandardParams","Common");var n=new Date;d.tz=parseInt(n.getTimezoneOffset()/60*-1,10)||"0";d.bh=n.getHours()||"0";d.ul=w.language||w.userLanguage;"object"===typeof screen&&(d.cd="Netscape"===w.appName?screen.pixelDepth:screen.colorDepth,d.sr=screen.width+"x"+screen.height);"boolean"===typeof w.javaEnabled()&&
(w.javaEnabled()?d.jo="Yes":d.jo="No");r.title&&(d.ti=t.RegExp?r.title.replace(new RegExp("^"+l.protocol+"//"+l.hostname+"\\s-\\s"),""):r.title);d.js="Yes";var u=0,v=0;"number"===typeof t.innerWidth?(u=t.innerWidth,v=t.innerHeight):r.documentElement&&(r.documentElement.clientWidth||r.documentElement.clientHeight)?(u=r.documentElement.clientWidth,v=r.documentElement.clientHeight):r.body&&(r.body.clientWidth||r.body.clientHeight)&&(u=r.body.clientWidth,v=r.body.clientHeight);d.bs=u+"x"+v;d.dl=0;0===
l.protocol.indexOf("https:")?d.ssl="1":d.ssl="0";f.dcsdat=n.getTime();f.dcssip=l.hostname;f.dcsuri=l.pathname;d.es=f.dcssip+f.dcsuri;""===r.referrer||"-"===r.referrer||"Microsoft Internet Explorer"===w.appName&&4>parseInt(w.appVersion,10)||(f.dcsref=r.referrer);p();k();h++},q=function(n,u,v){for(var x in u)if(u.hasOwnProperty(x)){var y=ORA.hasVal(v)?v+x:x;!ORA.hasVal(n.getParam(x))&&u.hasOwnProperty(x)&&n.setParam(y,u[x])}};this.mutation=function(n){n.params.mutation&&!0===n.params.mutation.runAnalysis&&
m();q(n,f);q(n,e);q(n,d,"WT.");q(n,g);ORA.Debug.debug("Annotating Common Page Analysis","Common");ORA.Debug.trace(ORA.common.JSONPrettify(n.payload),"Common")};this.data=function(){return{dcs:f,trackingData:d,dcsExt:e,altMetaData:g,runCount:h}};m()};
ORA.common.QueryParamCacheClass=function(){var a=ORA.common.extendObject,b=a({});this.reset=function(c){var d="";c?d=c:window&&window.location&&window.location.search&&(d=window.location.search);b=a(ORA.common.getQryParams(d))};this.clear=function(){b=a({})};this.getCache=function(){return b};this.contains=function(c,d){if(d){var f=!1;b.forEach(function(e,g){"string"===typeof c&&"string"===typeof g&&g.toLowerCase()===c.toLowerCase()&&(f=!0)});return f}return"undefined"!==typeof b[c]};this.set=function(c,
d){b[c]=d};this.reset()};ORA.common.QueryParamCache=new ORA.common.QueryParamCacheClass;
(function(){var a=!1,b=!1,c=ORA.common.extendObject({}),d=ORA.common.mobile;d.enableMobileMode=function(){a=!0};d.disableMobileMode=function(){a=!1};d.inMobileMode=function(){return a};d.setNativeAppCkTx=function(){b=!0};d.isNativeAppCkTx=function(){return b};d.reset=function(){a=!1;c=ORA.common.extendObject({})};d.delay=function(f,e,g){var h=3E3;g&&g.mobileDelayTimeout&&(h=g.mobileDelayTimeout);var t=function(){try{ORA.Debug.trace(e+": executing callback: "+f.toString(),"MOBILE_HYBRID"),f()}catch(r){ORA.Debug.error("Error in mobile delayed callback for: "+
e,301,r)}};g&&!0===g.mobileDelay?(d.setNativeAppCkTx(),d.enableMobileMode(),ORA.Debug.debug(e+": to delay until ORA.common.mobile.resume() or time in "+h+" ms ","MOBILE_HYBRID"),c[e]={cb:t,timer:window.setTimeout(t,h)}):(ORA.Debug.debug(e+": no mobileDelay flag so executing cb immediately","MOBILE_HYBRID"),f())};d.resume=function(){c.forEach(function(f,e){window.clearTimeout(f.timer);ORA.Debug.debug("ORA.common.mobile.resume() called, executing callback for "+e,"MOBILE_HYBRID");f.cb()});c=ORA.common.extendObject({})};
d.nativeAppCkWrite=function(f){var e="wtapp://cookie?data\x3d"+JSON.stringify(f);if("undefined"!==typeof window.external&&"undefined"!==typeof window.external.Notify)window.external.Notify(e);else{var g=document.createElement("iframe");g.setAttribute("src",e);g.setAttribute("style","display:none;");g.setAttribute("frameborder","0");g.setAttribute("height","0px");g.setAttribute("width","0px");document.getElementsByTagName("body")[0].appendChild(g);g.parentNode.removeChild(g)}ORA.Debug.superfine("Wrote cookie to native app",
"MOBILE_HYBRID");ORA.Debug.superfine("cookies to Native App: "+JSON.stringify(f),"MOBILE_HYBRID")};d.nativeAppCkSend=function(f){try{if(!0!==d.isNativeAppCkTx()||!0!==d.inMobileMode())ORA.Debug.superfine("Do not try to write cookies to app because 'nativeAppCkTx' is false or not in 'mobileMode'","MOBILE_HYBRID");else if(f&&f.name&&f.value){var e={};e[f.name]={value:f.value,path:f.path,domain:f.domain,date:f.date,type:f.type,timeout:f.timeout};d.nativeAppCkWrite(e)}else ORA.Debug.superfine("Not writing to native app, missing cookie info",
"MOBILE_HYBRID"),ORA.Debug.superfine("mapCookieInfo: "+JSON.stringify(f),"MOBILE_HYBRID")}catch(g){ORA.Debug.error("Problem sending cookie to hybrid app","300",g,"MOBILE_HYBRID")}};d.cookiesWrite=function(f,e,g){try{if(f){var h=e||window.location.hostname;e=g||"/";for(var t in f)if(f.hasOwnProperty(t)){var r=f[t];ORA.common._createCookie(t,r.value,r.timeout||null,r.type,h,e)}}}catch(w){ORA.Debug.error("Problem in hybrid writing cookie","302",w,"MOBILE_HYBRID")}finally{ORA.Debug.debug("setting Native App Cookie Write"),
d.setNativeAppCkTx(),d.resume()}}})();ORA.setExecuteState("common","ready");ORA.fireEvent(new ORA.Event(ORA.Event.COMMON_LOAD_COMPLETE,ORA.Event.STATUS_SUCCESS),!0);ORA.fireEvent(new ORA.Event(ORA.Event.COMMON_PRODUCT_READY,ORA.Event.STATUS_SUCCESS),!0);ORA.getQryParams=ORA.common.getQryParams;